<template>
    <div class="slds-text-heading_small"><b>Enter game results below:</b></div>

    <div class="slds-form-element">
        <label class="slds-form-element__label" for="textarea-id-01"
            >Copy and paste data from the google sheets.</label
        >
        <br />
        <label class="slds-form-element__label" for="textarea-id-02"
            >Input Format: GameID Player_Placement Player_Name Player_Points
            etc.</label
        >
        <br />
        <div class="slds-form-element__control">
            <textarea
                id="inputTextArea"
                name="textArea"
                rows="5"
                class="slds-textarea"
                placeholder="Ex. 20220525a 1 Matthew 64"
            >
            </textarea>
        </div>
    </div>



    <div class="slds-form-element">
        <span
            class="slds-form-element__label"
            id="file-selector-primary-label-105"
        ></span>
        <div class="slds-form-element__control">
            <div class="slds-file-selector slds-file-selector_files">
                <div class="slds-file-selector__dropzone">
                    <input
                        type="file"
                        class="slds-file-selector__input slds-assistive-text"
                        accept=".json"
                        name="file-upload-input-107"
                        id="file-upload-input-107"
                        aria-labelledby="file-selector-primary-label-105 file-selector-secondary-label106"
                    />
                    <label
                        class="slds-file-selector__body"
                        for="file-upload-input-107"
                        id="file-selector-secondary-label106"
                    >
                        <span
                            class="slds-file-selector__button slds-button slds-button_neutral"
                        >
                            <svg
                                class="slds-button__icon slds-button__icon_left"
                                aria-hidden="true"
                            >
                                <use
                                    xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#upload"
                                ></use></svg
                            >Upload Game Logs</span
                        >
                        <span class="slds-file-selector__text slds-medium-show"
                            >or Drop Files</span
                        >
                    </label>
                </div>
            </div>
        </div>
    </div>

    <lightning-button
    label="Upload"
    variant="brand-outline"
    onclick={uploadFile}
    ></lightning-button>

    <br />

    <div class="slds-form-element__control">
        <template if:true={showGameArea}>
         <textarea
                id="gameInputArea"
                name="gameInputArea"
                rows="5"
                class="slds-textarea"
                placeholder="Testing input"
            >
            </textarea>
        </template>
    </div>

    <br />

    <div class="slds-hide">
    <table class="slds-size_small">
        <thead class="slds-text-align_center">
            <tr>
                <th>Player Name</th>
                <th>Place</th>
                <th>Victory Points</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <input
                        class="slds-input"
                        type="text"
                        name="playerName1"
                    />
                </td>
                <td>
                    <input
                        class="slds-input"
                        type="number"
                        name="playerPlace1"
                    />
                </td>
                <td>
                    <input
                        class="slds-input"
                        type="number"
                        name="victoryPoints1"
                    />
                </td>
            </tr>
            <tr>
                <td>
                    <input
                        class="slds-input"
                        type="text"
                        name="playerName2"
                    />
                </td>
                <td>
                    <input
                        class="slds-input"
                        type="number"
                        name="playerPlace2"
                    />
                </td>
                <td>
                    <input
                        class="slds-input"
                        type="number"
                        name="victoryPoints2"
                    />
                </td>
            </tr>
            <tr>
                <td>
                    <input
                        class="slds-input"
                        type="text"
                        name="playerName3"
                    />
                </td>
                <td>
                    <input
                        class="slds-input"
                        type="number"
                        name="playerPlace3"
                    />
                </td>
                <td>
                    <input
                        class="slds-input"
                        type="number"
                        name="victoryPoints3"
                    />
                </td>
            </tr>
            <tr>
                <td>
                    <input
                        class="slds-input"
                        type="text"
                        name="playerName4"
                    />
                </td>
                <td>
                    <input
                        class="slds-input"
                        type="number"
                        name="playerPlace4"
                    />
                </td>
                <td>
                    <input
                        class="slds-input"
                        type="number"
                        name="victoryPoints4"
                    />
                </td>
            </tr>
            <tr>
                <td>
                    <input
                        class="slds-input"
                        type="text"
                        name="playerName5"
                    />
                </td>
                <td>
                    <input
                        class="slds-input"
                        type="number"
                        name="playerPlace5"
                    />
                </td>
                <td>
                    <input
                        class="slds-input"
                        type="number"
                        name="victoryPoints5"
                    />
                </td>
            </tr>
            <tr>
                <td>
                    <input
                        class="slds-input"
                        type="text"
                        name="playerName6"
                    />
                </td>
                <td>
                    <input
                        class="slds-input"
                        type="number"
                        name="playerPlace6"
                    />
                </td>
                <td>
                    <input
                        class="slds-input"
                        type="number"
                        name="victoryPoints6"
                    />
                </td>
            </tr>
        </tbody>
    </table>
</div>

    <br />

    <lightning-button
        label="Submit"
        variant="brand-outline"
        onclick={gatherDataAndSend}
    ></lightning-button>

    <br />

    <template if:true={showErrors}>
        <template for:each={errorMessages} for:item="entry">
            <div key={entry}>
                <p class="slds-p-left_small" name="errorMessage">{entry}</p>
                <br />
            </div>
        </template>
    </template>
</template>
    
